var amznFollow=amznFollow||{};amznFollow.utils=function(){function e(t){var o=this;return this.parseUri=function(t){for(var n=e.parsingOptions,r=n.parser[n.strictMode?"strict":"loose"].exec(t),a=14;a--;)o[n.key[a]]=r[a]||"";return o[n.q.name]={},o[n.key[12]].replace(n.q.parser,function(e,t,r){t&&(o[n.q.name][t]=r)}),o},this.toString=function(){var t="";return this.protocol?t+=this.protocol+"://":this.authority&&(t+="//"),t+this.authority+this.path+e.paramsToString(this.queryParams)+(this.anchor?"#"+this.anchor:"")},this.parseUri(t),this}var t=window.location.protocol,o=t+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),n=o+"/follow/",r=o+"/ap/signin",a=4,i="application/x-www-form-urlencoded",l="application/json",s=400,u=/^(?:(?:(?:(\w\w)-)?pre-prod)|(?:.+))\.amazon.(?:(\w\w)|(com)|(?:co\.(?:(\w\w))))?$/,c={au:"A39IBJ37TRP1C6",br:"A2Q3Y263D00KWC",ca:"A2EUQ1WTGCTBG2",cn:"AAHKV2X7AFYLW",de:"A1PA6795UKMFR9",es:"A1RKKUPIHCS9HS",fr:"A13V1IB3VIYZZH","in":"A21TJRUUN4KGV",it:"APJ6JRA9NG5V4",jp:"A1VC38T7YXB528",mx:"A1AM78C64UM0Y8",nl:"A1805IZSGTT6HS",ru:"AD2EMQ3L3PG8S",uk:"A1F83G8C2ARO7P",com:"ATVPDKIKX0DER"},f={A39IBJ37TRP1C6:"auflex",A2Q3Y263D00KWC:"brflex",A2EUQ1WTGCTBG2:"caflex",AAHKV2X7AFYLW:"cnflex",A1PA6795UKMFR9:"deflex",A1RKKUPIHCS9HS:"esflex",A13V1IB3VIYZZH:"frflex",A21TJRUUN4KGV:"inflex",APJ6JRA9NG5V4:"itflex",A1VC38T7YXB528:"jpflex",A1AM78C64UM0Y8:"mxflex",A1805IZSGTT6HS:"nlflex",AD2EMQ3L3PG8S:"ruflex",A1F83G8C2ARO7P:"gbflex",ATVPDKIKX0DER:"usflex"},d="ATVPDKIKX0DER";return e.parsingOptions={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryParams",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},e.parseUri=function(t){return new e(t)},e.paramsToString=function(e){var t=[];if(!e)return"";for(var o in e){var n=e[o];amznFollow.utils.isArray(n)?amznFollow.utils.forEach(n,function(e){t.push(o+"[]="+e)}):t.push(o+(n?"="+e[o]:""))}return t.length>0?"?"+t.join("&"):""},{AMAZON_URL:o,FOLLOW_SERVICE_URL:n,CONTENT_TYPE_URL_ENCODED:i,CONTENT_TYPE_JSON:l,DEFAULT_FADE_DURATION:s,ajax:function(e,o){o=o||{};var n=this,r=(o.requestType||"GET").toUpperCase(),s=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),u=new Date,c=function(e){var t;if(e){var r="json"===o.dataType?JSON.parse(s.responseText):s.responseText;n.executeFunction(o.successCallback,window,r,s)}else n.executeFunction(o.failureCallback,window,s),0!==s.status&&(t={status:s.status,responseText:s.responseText,readyState:s.readyState,userAgent:window.navigator.userAgent});o.logger&&o.logger.logDuration("request",new Date-u,t),n.executeFunction(o.completeCallback,window,s)};if(!o.cors||"withCredentials"in s?(s.open(r,e,!0),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.onreadystatechange=function(){s.readyState===a&&c(200===s.status)}):o.cors&&"undefined"!=typeof XDomainRequest&&(e=e.replace(/^https?:\/\//,t+"//"),s=new XDomainRequest,s.open(r,e),s.onload=function(){c(!0)},s.onerror=function(){c(!1)},s.onprogress=function(){}),o.data){var f=o.contentType||i,d=o.data;f===i?d=this.formEncodeData(d):f===l&&(d=JSON.stringify(d)),s.setRequestHeader("Content-type",f),s.send(d)}else o.contentType&&s.setRequestHeader("Content-type",o.contentType),s.send()},ajaxGet:function(e,t){var o={requestType:"GET"};t=this.merge({},o,t),this.ajax(e,t)},ajaxGetJson:function(e,t){var o={requestType:"GET",dataType:"json"};t=this.merge({},o,t),this.ajax(e,t)},arrayEquals:function(e,t){if(!(e&&t&&this.isArray(e)&&this.isArray(t)&&e.length===t.length))return!1;for(var o=0;o<e.length;o++){if(e[o]instanceof Array&&t[o]instanceof Array&&!this.arrayEquals(e[o],t[o]))return!1;if(!(e[o]instanceof Array&&t[o]instanceof Array)&&e[o]!==t[o])return!1}return!0},camelize:function(e){return e.replace(/^([A-Z])|[\s-_](\w)/g,function(e,t,o){return o?o.toUpperCase():t.toLowerCase()})},createUrl:function(e,t){var o=this.formEncodeData(t);return o?e+"?"+o:e},dataValue:function(e,t){return this.getAttribute(e,"data-"+t,null)},dataValues:function(e,t,o){for(var n={},o=o||{},r=o.prefix||"",a=void 0!==o.camelize?o.camelize:!0,i=0;i<t.length;i++){var l=t[i],s=a?this.camelize(l):l,u=this.dataValue(e,r+l);u&&(n[s]=u)}return n},detectIE:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var o=e.indexOf("Trident/");if(o>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return r>0?parseInt(e.substring(r+5,e.indexOf(".",r)),10):!1},documentReady:function(e,t){var o=this,n=Array.prototype.slice.call(arguments,2),r=[e,t].concat(n),a=setInterval(function(){("complete"===document.readyState||"interactive"===document.readyState)&&(clearInterval(a),o.executeFunction.apply(t,r))},20)},executeFunction:function(e,t){if(e){var o="function"==typeof e,n=Array.prototype.slice.call(arguments,2);if(o)return void e.apply(this,n);for(var r=e.split("."),a=r.pop(),i=0;i<r.length;i++)t=t[r[i]];return t[a].apply(t,n)}},fadeIn:function(e,t){var o={finalOpacity:1},t=this.merge({},o,t);this.fadeTo(e,t)},fadeOut:function(e,t){var o={finalOpacity:0},t=this.merge({},o,t);this.fadeTo(e,t)},fadeTo:function(e,t){var o={duration:s,tickLength:50,delay:0,callback:function(){}},t=this.merge({},o,t),n=Number(e.style.opacity||0),r=t.duration/t.tickLength,a=t.finalOpacity>n,i=(t.finalOpacity-n)/r,l=!1;setTimeout(function(){var o=setInterval(function(){n+=i,(n>=t.finalOpacity&&a||n<=t.finalOpacity&&!a)&&(n=t.finalOpacity,l=!0,clearInterval(o),t.callback&&t.callback(),a||0!==t.finalOpacity||(e.style.display="none")),e.style.opacity=n,l||(e.style.display="block")},t.tickLength)},t.delay)},forEach:function(e,t,o){var n,r;if(Array.prototype.forEach)return void e.forEach(t,o);if(!e)throw new TypeError(" array is null or not defined");if(!this.isArray(e))throw new TypeError(" array is not an array");var a=Object(e),i=a.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>2&&(n=o),r=0;i>r;){var l;r in a&&(l=a[r],t.call(n,l,r,a)),r++}},formEncodeData:function(e,t){var o=[];for(var n in e)if(e.hasOwnProperty(n)){var r=n,a=e[n];t&&(r=t+"["+(this.isArray(e)?"":n)+"]"),o.push("object"==typeof a?this.formEncodeData(a,r):encodeURIComponent(r)+"="+encodeURIComponent(a))}return o.join("&")},formatString:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);if(!e)throw new Error("An input string must be provided as the first argument");return e.replace(/{(\d+)}/g,function(o,n){var r=parseInt(n);if(r>=t.length)throw new Error("No placeholder "+r+" in text "+e);return t[r]})},getElementsByClassName:function(e,t){t=t||{};var o=t.parentElement||document.body,n=t.tagName||"*";if(document.getElementsByClassName)return o.getElementsByClassName(e);for(var r=o.getElementsByTagName(n),a=new RegExp("(^|\\s)"+e+"(\\s|$)"),i=[],l=0;l<r.length;l++){var s=r[l];a.test(s.className)&&i.push(s)}return i},getElementsByClassNames:function(e,t){t=t||{};for(var o=(t.parentElement||document.body,t.tagName||"*",[]),n=0;n<e.length;n++)for(var r=this.getElementsByClassName(e[n],t),a=0;a<r.length;a++)o[o.length]=r[a];return o},getAttribute:function(e,t,o){return o=o||null,e.hasAttribute?e.hasAttribute(t)?e.getAttribute(t):o:e.getAttribute(t)},hasTouchEvents:function(){return"ontouchstart"in window},inWeblab:function(e,t,o){return e[t]===(o||"T1")},isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},marketplaceFromHostname:function(e){var t=e.match(u);if(!t)return d;for(var o=1;o<t.length;o++)if(void 0!==t[o])return c[t[o]];return d},merge:function(){for(var e=arguments[0]||{},t=arguments.length,o=1;t>o;o++){var n=arguments[o];for(var r in n)e[r]=n[r]}return e},parseUrl:function(){return{}},queryStringValue:function(e){var t=window.location.search,o=new RegExp(e+"=([^#&]+)"),n=o.exec(t);return n&&2===n.length?n[1]:void 0},redirect_to_login:function(e){var t=this.marketplaceFromHostname(window.location.hostname),o=r.replace(/^https?:\/\//,"https://"),n=f[t],a="http://specs.openid.net/auth/2.0/identifier_select",i="http://specs.openid.net/auth/2.0",l="http://specs.openid.net/extensions/pape/1.0",s="{0}?openid.assoc_handle={1}&openid.claimed_id={2}&openid.identity={2}&openid.mode=checkid_setup&openid.ns={3}&openid.ns.pape={4}&openid.pape.max_auth_age=0&openid.return_to={5}",u=this.formatString(s,o,n,encodeURIComponent(a),encodeURIComponent(i),encodeURIComponent(l),encodeURIComponent(e));window.location.href=u},show:function(e){e.style.display="block"},hide:function(e){e.style.display="none"},addClass:function(e,t){e.className=e.className+" "+t},removeClass:function(e,t){for(var o=e.className.split(/\s+/),n=o.length;n--;)o[n]===t&&o.splice(n,1);e.className=o.join(" ")},hasClass:function(e,t){for(var o=e.className.split(/\s+/),n=o.length;n--;)if(o[n]===t)return!0;return!1},Uri:e}}();var amznFollow=amznFollow||{};amznFollow.events=function(){var e=[];return{trigger:function(t,o){for(var n=e[t]||[],r=Array.prototype.slice.call(arguments,2),a=n.length-1;a>=0;a--){for(var i=!0,l=n[a],s=l.events.length-1;s>=0;s--)l.events[s]===o&&l.fireOnce?n[a].events.splice(s,1):l.events[s]!==o&&(i=!1);if(i){var u=[l.callback,window].concat(r);l.fireOnce&&n.splice(a,1),amznFollow.utils.executeFunction.apply(this,u)}}},off:function(t,o){var n=e[t]||[];"string"==typeof o&&(o=[o]);for(var r=n.length-1;r>=0;r--)amznFollow.utils.arrayEquals(n[r].events,o)&&n.splice(r,1)},on:function(t,o,n,r){r&&("string"==typeof o?o=[o]:n||(console.warn("Cannot use fireOnce: false with multiple events"),n=!0),e[t]||(e[t]=[]),e[t].push({events:o,fireOnce:n,callback:r}))}}}();var amznFollow=amznFollow||{};amznFollow.metrics=function(){function e(e){e=e||{};var t,n=this,r=[],a=e.delay||o,i=e.enabled!==!1,l=function(){t&&clearTimeout(t)},s=function(){i&&0!==r.length&&(l(),t=setTimeout(function(){n.sendMetrics()},a))};this.sendMetrics=function(){0!==r.length&&(amznFollow.utils.ajax(amznFollow.utils.FOLLOW_SERVICE_URL+"log-metrics",{requestType:"POST",contentType:amznFollow.utils.CONTENT_TYPE_JSON,data:{metrics:r}}),r=[])},this.logMetric=function(e){r.push(e),s()},this.setEnabled=function(e){i!==e&&(i=e,i?s():l())}}function t(e,t,o,n){var r=".",a="time",i=this,l={},s=function(){for(var e=[],t=0;t<arguments.length;t++)arguments[t]&&e.push(arguments[t]);return e.join(r)};this.namespace=function(){return o?s(o.namespace(),t):t},this.child=function(t,o){n=o||n;var r=s(t,n);return l[r]||(l[r]=new amznFollow.metrics.MetricsLogger(e,t,i,n)),l[r]},this.logDuration=function(t,o,r){if(e){var i={name:s(this.namespace(),t,a),duration:o,ref:n};r&&(i.error=r),e.logMetric(i)}},this.dispatcher=function(){return e}}var o=1500;return{MetricsLogDispatcher:e,MetricsLogger:t,noop:new t}}();var amznFollow=amznFollow||{};amznFollow.ButtonTooltip=function(){"use strict";function e(e,a,i,l){function s(){if(p.element=g.getElementsByClassName(a,{parentElement:e,tag:"div"})[0],p.body=p.findFirstByClass("pr-fb-tooltip-body"),p.eventNamespace=i+"-"+a,c=p.findFirstByClass("pr-fb-tooltip-close"),d=!1,!p.element||!p.body||!c)throw new Error("Error loading tooltip: "+a);f=r[i]||[],r[i]=f,f.push(p);var t=l.tooltipPosition||n,o=t.split(" "),s=o[0],m=o[1];g.addClass(p.element,"pr-fb-tooltip-"+s),g.addClass(p.element,"pr-fb-tooltip-"+m),c.onclick=u}function u(){m.trigger(p.eventNamespace,"closeClicked"),p.hide()}l=l||{};var c,f,d,p=this,m=amznFollow.events,g=amznFollow.utils;this.findFirstByClass=function(e){return g.getElementsByClassName(e,{parentElement:p.element})[0]},this.show=function(e){if(!d){var n=g.merge({},{delay:t,duration:o},e),r=function(){g.fadeIn(p.element,n)},a=!1;g.forEach(f,function(e){var t=e.hide({callback:r});a=a||t}),a||r(),d=!0}},this.hide=function(e){var t=d;if(d){var n=g.merge({},{delay:0,duration:o},e);g.fadeOut(p.element,n),d=!1}return t},s()}var t=500,o=200,n="bottom left",r={};return amznFollow.hideAllTooltips=function(e,t){var o=r[e]||[];amznFollow.utils.forEach(o,function(e){e.hide(t)})},amznFollow.hideAllTooltipsForAllButtons=function(e){for(var t in r)amznFollow.hideAllTooltips(t,e)},amznFollow.removeTooltips=function(e){delete r[e]},e}();var amznFollow=amznFollow||{};!function(){"use strict";function e(e,a,s){function g(){var t=Y.dataValues(e,m);if(Y.merge(Z,t),"undefined"==typeof Z.entityId&&(Z.entityId=Z.asin),"undefined"==typeof Z.type&&(Z.type=Z.category),$=a.child(v,Z.ref),!Z.entityId||!Z.type)throw new Error("A type and an entity id must be provided");return Z.followId=Y.formatString(c,Z.entityId,Z.type),Z.marketplaceId=Y.marketplaceFromHostname(window.location.hostname),s&&"false"===Z.initialize&&E!==Z.followId?void console.log("Not initializing Follow Button: "+Z.followId):(X.on(Z.followId,["cssLoaded","htmlLoaded","statusLoaded","stringsLoaded"],!0,x),w(),A(),I(),C(),void(et=!0))}function w(){e.insertAdjacentHTML("afterbegin",n);var t=e.getElementsByTagName("link")[0];if(t)return void X.trigger(Z.followId,"cssLoaded");if(document.createStyleSheet){if(document.styleSheets.length<p)return document.createStyleSheet(o),void X.trigger(Z.followId,"cssLoaded");for(var r=-1,a=Number.MAX_VALUE,i=0;i<document.styleSheets.length;i++)"STYLE"===document.styleSheets[i].owningElement.tagName.toUpperCase()&&document.styleSheets[i].cssText.length<a&&(r=i,a=document.styleSheets[i].cssText.length);-1!==r&&Y.ajax(o,{requestType:"GET",cors:!0,logger:$.child("css"),successCallback:function(e){document.styleSheets[r].cssText+=e,X.trigger(Z.followId,"cssLoaded")}})}}function A(){Y.ajax(t,{requestType:"GET",cors:!0,successCallback:function(t){Y.addClass(e,"pr-fb-unfollowable"),Y.detectIE()&&Y.addClass(e,"pr-fb-ie"+Y.detectIE()),e.insertAdjacentHTML("afterbegin",t);var o=e.getElementsByTagName("span");if(H=o[f],P=o[d],q=Y.getElementsByClassName("pr-fb-button",{parentElement:e,tagName:"span"})[0],V=Y.getElementsByClassName("pr-fb-text",{parentElement:e,tagName:"span"})[0],amznFollow.removeTooltips(Z.followId),J=new amznFollow.ButtonTooltip(e,"pr-fb-intro-tooltip",Z.followId,Z),G=new amznFollow.ButtonTooltip(e,"pr-fb-suggestion-tooltip",Z.followId,Z),K=new amznFollow.ButtonTooltip(e,"pr-fb-error-tooltip",Z.followId,Z),W=new amznFollow.ButtonTooltip(e,"pr-fb-onboard-tooltip",Z.followId,Z),!(H&&P&&q&&V&&J&&G&&K&&W))throw new Error("Error loading the follow button");Y.hasTouchEvents()?Y.addClass(e,"pr-fb-mobile"):Y.addClass(H,"pr-fb-no-touch"),Y.addClass(e,"pr-fb-"+Z.size),Z.color&&Y.addClass(H,"pr-fb-"+Z.color),X.trigger(Z.followId,"htmlLoaded")},logger:$.child("html")})}function C(){var e=Y.FOLLOW_SERVICE_URL+Z.followId,t={logger:$.child("button"),successCallback:function(e){Y.merge(Z,{csrf:e.csrf,isFollowing:e.isFollowing,isFollowable:e.isFollowable,onboardingRequired:e.onboardingRequired,signedIn:e.signedIn,seenTooltip:e.seenTooltip,showTooltip:"show"===Z.tooltip||!Z.tooltip&&!e.seenTooltip,showSuggestionTooltip:"show"===Z.suggestionTooltip&&e.features[Z.type]&&e.features[Z.type].recommendations,weblabs:e.weblabs,logMetrics:e.logMetrics,count:e.count}),$.logDuration("total",new Date-Q),X.trigger(Z.followId,"statusLoaded")}},o={include:[]};Z.ref&&(o.ref=Z.ref),Z.tooltip||o.include.push("seenTooltip"),Z.oncountloaded&&o.include.push("count"),o.ts=Date.now(),e=Y.createUrl(e,o),Y.ajaxGetJson(e,t)}function I(){var e={cors:!0,logger:$.child("strings"),successCallback:function(e){var t=e[Z.language],o={nodeId:T[Z.marketplaceId]||T.ATVPDKIKX0DER},n=Y.merge({},_,o);Z.suggestionTooltipText=Z.suggestionTooltipText?Z.suggestionTooltipText:t.follow_button_follow_suggestion,b.follow=t.follow_button_follow,b.following=t.follow_button_following,b.learnMore='<p><a href="'+amznFollow.utils.createUrl(F,n)+'">'+t.follow_button_learn_more+"</a></p>",b.onboard="<p>"+t.follow_button_onboarding+'</p><p class="pr-fb-action"><a href="/gp/profile/onboard?r={0}&ref=fb_pr_onb">'+t.follow_button_complete_my_profile+"</a></p>",b.introTooltip={author:"<p>"+t.follow_button_intro_author+"</p>",customer:"<p>"+t.follow_button_intro_customer+"</p>",interest:"<p>"+t.follow_button_intro_interest+"</p>",brand:"<p>"+t.follow_button_intro_brand+"</p>"},b.error={UNKNOWN:'<p class="pr-fb-error">'+t.follow_button_error_unknown+"</p>",SELF_FOLLOW_FORBIDDEN:"<p>"+t.follow_button_error_self_follow+"</p>",PROFILE_REQUIRED:b.onBoard},b.introHeader=t.follow_button_follow_on_amazon,b.suggestionHeader=t.follow_button_followed,b.seeMore=t.follow_button_see_more_recommendations,b.recsTooltip={author:t.follow_button_recs_tooltip_header_author,brand:t.follow_button_recs_tooltip_header_brand},X.trigger(Z.followId,"stringsLoaded")}};Y.ajaxGetJson(r,e)}function x(){if(Z.isFollowable){Z.logMetrics&&$.dispatcher()&&$.dispatcher().setEnabled(!0),Y.removeClass(e,"pr-fb-unfollowable"),H.onclick=S,D(Z.isFollowing),X.on(Z.followId,"loaded",!0,Z.onload),X.on(Z.followId,"countLoaded",!0,Z.oncountloaded),X.on(Z.followId,"addFollow",!1,Z.onadd),X.on(Z.followId,"addFollowCompleted",!1,Z.onaddcompleted),X.on(Z.followId,"removeFollow",!1,Z.onremove),X.on(Z.followId,"removeFollowCompleted",!1,Z.onremovecompleted),N();var t=null;E!==Z.followId||Z.isFollowing?t=function(){Z.onboardingRequired?W.show():Z.showTooltip&&J.show()}:j(),Y.fadeIn(H,{duration:Z.fadeDuration,callback:t}),X.trigger(Z.followId,"loaded",Z),X.trigger(Z.followId,"countLoaded",Z)}}function S(){if(!Z.signedIn){var e=Y.formatString("{0}={1}",l,Z.followId),t=(window.location.search?window.location.search+"&":"?")+e,o=Y.formatString("https://{0}{1}{2}",window.location.hostname,window.location.pathname,t);return void Y.redirect_to_login(o)}Z.isFollowing?k():j()}function N(){var e=J.findFirstByClass("pr-fb-intro-text"),t=J.findFirstByClass("pr-fb-intro-header");e.innerHTML=b.introTooltip[Z.type]+b.learnMore,t.innerHTML=b.introHeader,X.on(J.eventNamespace,"closeClicked",!0,U),O(),z()}function O(){var e=W.findFirstByClass("pr-fb-onboard-text"),t=encodeURIComponent(Y.formatString("{0}?{1}={2}&message=onboarding_complete",window.location.pathname,l,Z.followId)),o=Y.formatString(b.onboard,t);e.innerHTML=o}function z(){var e=i,t=Y.Uri.parseUri(e);t.queryParams.ref||(t.queryParams.ref=Z.ref?Y.formatString("{0}_{1}",y,Z.ref):y);var o=G.findFirstByClass("pr-fb-suggestion-header");o.innerHTML=b.recsTooltip[Z.type];var n=document.createElement("a");n.className="pr-fb-tooltip-see-more",n.href=t.toString(),n.innerHTML=b.seeMore;var r=G.findFirstByClass("pr-fb-suggestion-text");r.innerHTML="",r.appendChild(n)}function L(){var e=Y.formatString(u,Z.type,Z.entityId),t={logger:$.child("recommendations"),successCallback:function(e){var t=G.findFirstByClass("pr-fb-suggestion-list");t.innerHTML="",e.results[0]&&e.results[0].recommendations&&Y.forEach(e.results[0].recommendations,function(e){t.appendChild(R(e))}),amznFollow.initialize(),X.trigger(Z.followId,"recommendationsLoaded")}};Y.ajaxGetJson(e,t)}function R(e){var t=Y.Uri.parseUri(e.entity_data.url);t.queryParams.ref||(t.queryParams.ref=Z.ref?Y.formatString("{0}_{1}",y,Z.ref):y);var o=document.createElement("div");o.className="pr-fb-recs-tooltip-row";var n=document.createElement("a");n.className="pr-fb-recs-tooltip-image-link",n.href=t.toString(),o.appendChild(n);var r=document.createElement("div");r.className="pr-fb-recs-tooltip-image",r.style.backgroundImage=Y.formatString("url({0})",e.entity_data.image_url),n.appendChild(r);var a=document.createElement("div");a.className="pr-fb-recs-tooltip-details-column",o.appendChild(a);var i=document.createElement("div");i.className="pr-fb-recs-tooltip-details",a.appendChild(i);var l=document.createElement("a");l.className="pr-fb-recs-tooltip-link",l.href=t.toString(),l.innerHTML=e.entity_data.name,i.appendChild(l);var s=document.createElement("span");s.className="pr-fb-recs-tooltip-popular-items",i.appendChild(s);var u=e.entity_data.data.map(function(e){return e.name}).join(", ");s.innerHTML=u;var c=document.createElement("div");c.className="pr-fb-recs-tooltip-button-column",o.appendChild(c);var f=document.createElement("div");return f.className="amazon-follow",f.setAttribute("data-size","small"),f.setAttribute("data-suggestion-tooltip","hide"),f.setAttribute("data-entity-id",e.entity_id),f.setAttribute("data-type",e.entity_type),f.setAttribute("data-ref",Z.ref?Y.formatString("{0}_{1}",y,Z.ref):y),c.appendChild(f),o}function U(){Z.showTooltip&&!Z.seenTooltip&&Z.signedIn&&(Z.seenTooltip=!0,Y.ajax(Y.FOLLOW_SERVICE_URL+"viewed-tooltip",{requestType:"POST",data:{authenticity_token:Z.csrf,category:Z.type,entity_id:Z.entityId},logger:$.child("viewed_tooltip")}))}function M(e){if("PROFILE_REQUIRED"===e)return void W.show();var t=b.error[e]||b.error.UNKNOWN;K.findFirstByClass("pr-fb-error-text").innerHTML=t,K.show()}function j(){var e=Y.FOLLOW_SERVICE_URL,t={authenticity_token:Z.csrf,entity_id:Z.entityId,category:Z.type,ref:Z.ref||""};U(),B(!0,e,t)}function k(){var e=Y.FOLLOW_SERVICE_URL+Z.followId,t={_method:"delete",authenticity_token:Z.csrf,ref:Z.ref||""};B(!1,e,t)}function B(e,t,o){var n="pr-fb-pending";if(!Y.hasClass(H,n)){Y.addClass(H,n);var r=e?"add":"remove";Y.ajax(t,{requestType:"POST",data:o,successCallback:function(){X.trigger(Z.followId,r+"FollowCompleted",Z),e&&Z.showSuggestionTooltip?(amznFollow.hideAllTooltipsForAllButtons(),X.on(Z.followId,"recommendationsLoaded",!0,function(){G.show()}),L()):amznFollow.hideAllTooltips(Z.followId)},failureCallback:function(t){D(!e),M(t.responseText)},completeCallback:function(){Y.removeClass(H,n)},logger:$.child(r)}),D(e),X.trigger(Z.followId,r+"Follow",Z)}}function D(e){Y.removeClass(H,e?"pr-fb-not-following":"pr-fb-following"),Y.addClass(H,e?"pr-fb-following":"pr-fb-not-following"),V.innerHTML=e?b.following:b.follow,Z.isFollowing=e}a=a||amznFollow.metrics.noop;var H,P,q,V,J,G,K,W,Y=amznFollow.utils,X=amznFollow.events,Z=Y.merge({},h),Q=new Date,$=amznFollow.metrics.noop,et=!1;return this.element=e,this.id=function(){return Z.followId},this.isFollowing=function(){return Z.isFollowing},this.introTooltip=function(){return J},this.showTooltip=function(e){J.show(e)},this.hideTooltip=function(e){J.hide(e)},this.initialized=function(){return et},this.click=S,g(s),this}var t="https://d39x00gckxu2jb.cloudfront.net/follow/assets/follow_button-35b5385bc9d82647b3d719792168bb2e.html",o="https://d39x00gckxu2jb.cloudfront.net/follow/assets/follow_button-3e464ea9c3426a9a1fbfa8dc655dbed0.css",n='<link rel="stylesheet" media="screen" href="https://d39x00gckxu2jb.cloudfront.net/follow/assets/follow_button-3e464ea9c3426a9a1fbfa8dc655dbed0.css" />',r="https://d39x00gckxu2jb.cloudfront.net/follow/assets/button_strings-d8af96cb43677297ae5796eb7c0e5b8a.json",a=amznFollow.utils.AMAZON_URL+"/gp/profile/author_suggestions",i=amznFollow.utils.AMAZON_URL+"/gp/profile/follow/recommendations",l="follow-button-add",s={recommenders:["similarities"],entity_types:["{0}"],results_limit:1,per_result_recommendations_limit:3,facet:"low",scale_width:50},u=amznFollow.utils.FOLLOW_SERVICE_URL+"v2/recommendations/{0}/{1}"+amznFollow.utils.Uri.paramsToString(s),c="{0}_{1}",f=0,d=2,p=31,m=["size","language","asin","entity-id","category","type","tooltip","tooltip-position","onload","onadd","onaddcompleted","onremove","onremovecompleted","oncountloaded","ref","color","suggestion-tooltip","suggestion-tooltip-text","suggestion-tooltip-url","fade-duration","initialize"],g="amazon-follow-initialized",w=["bottom","left"],h={size:"base",language:"en_US",tooltipPosition:w.join(" "),onload:null,onadd:null,onaddcompleted:null,onremove:null,onremovecompleted:null,oncountloaded:null,suggestionTooltip:"show",suggestionTooltipText:null,suggestionTooltipUrl:a,fadeDuration:amznFollow.utils.DEFAULT_FADE_DURATION,initialize:!0},y="fb_recs_tt",b={},v="follow_button",T={ATVPDKIKX0DER:201813230,A2EUQ1WTGCTBG2:"GTM44YV8NNGGBZUS",A2Q3Y263D00KWC:201996080,A1AM78C64UM0Y8:201996080,A1F83G8C2ARO7P:202042520,A1PA6795UKMFR9:202060640,A13V1IB3VIYZZH:202060860,A21TJRUUN4KGV:202060600,A1RKKUPIHCS9HS:201996080,APJ6JRA9NG5V4:201996080,A1805IZSGTT6HS:"GE8UAMJNYWDH4SBM",A1VC38T7YXB528:201996080,A39IBJ37TRP1C6:201996080},_={ref:"fb_lrn"},F=amznFollow.utils.AMAZON_URL+"/gp/help/customer/display.html",A=[],C=document.createElement("img");C.src="https://d39x00gckxu2jb.cloudfront.net/follow/assets/follow-button-sprite-219798de1acb7020f97daa4ae9e1defb.png",C.style.position="absolute",C.style.width="1px",C.style.height="1px",C.style.top="-1000px",C.style.left="-1000px",amznFollow.initialize=function(t){document.body.appendChild(C);for(var o=amznFollow.utils.getElementsByClassNames(["amazon-favorite","amazon-follow"],{tagName:"div"}),n=new amznFollow.metrics.MetricsLogDispatcher({enabled:!1}),r=new amznFollow.metrics.MetricsLogger(n),a=0;a<o.length;a++)if(!amznFollow.utils.hasClass(o[a],g)){var i=new e(o[a],r,t);A.push(i),i.initialized()&&amznFollow.utils.addClass(o[a],g)}},amznFollow.all=function(){return A},amznFollow.find=function(e,t){for(var o=0;o<A.length;o++)if(A[o].id()==amznFollow.utils.formatString(c,t,e))return A[o];return null};var E=amznFollow.utils.queryStringValue(l);return amznFollow.utils.documentReady("amznFollow.initialize",window,!0),amznFollow.FavoriteButton=e,amznFollow.FollowButton=e,amznFollow}();var afav=amznFollow;"object"!=typeof JSON&&(JSON={}),function(){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var o,n,r,a,i,l=gap,s=t[e];switch(s&&"object"==typeof s&&"function"==typeof s.toJSON&&(s=s.toJSON(e)),"function"==typeof rep&&(s=rep.call(t,e,s)),typeof s){case"string":return quote(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(gap+=indent,i=[],"[object Array]"===Object.prototype.toString.apply(s)){for(a=s.length,o=0;a>o;o+=1)i[o]=str(o,s)||"null";return r=0===i.length?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+l+"]":"["+i.join(",")+"]",gap=l,r}if(rep&&"object"==typeof rep)for(a=rep.length,o=0;a>o;o+=1)"string"==typeof rep[o]&&(n=rep[o],r=str(n,s),r&&i.push(quote(n)+(gap?": ":":")+r));else for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r=str(n,s),r&&i.push(quote(n)+(gap?": ":":")+r));return r=0===i.length?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+l+"}":"{"+i.join(",")+"}",gap=l,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,o){var n;if(gap="",indent="","number"==typeof o)for(n=0;o>n;n+=1)indent+=" ";else"string"==typeof o&&(indent=o);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(e,t){var o,n,r=e[t];if(r&&"object"==typeof r)for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n=walk(r,o),void 0!==n?r[o]=n:delete r[o]);return reviver.call(e,t,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();